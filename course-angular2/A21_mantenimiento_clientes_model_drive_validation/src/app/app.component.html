<h1>Mantenimiento Clientes</h1>
<form novalidate="novalidate" [formGroup]="frm">
    <div class="panel">
        <h2>Insertar</h2>
        <label for="">DNI</label><input type="text" [(ngModel)]="nuevo.dni" formControlName="dni"/>
        <span *ngIf="dni.invalid && dni.dirty">
            <span *ngIf="dni.errors.required">El DNI es obligatorio</span>
            <!--
            <span *ngIf="dni.errors.pattern">El DNI es numero</span>
            -->
          
        </span>
        <label for="">Nombre</label><input type="text" [(ngModel)]="nuevo.nombre" formControlName="nombre"/>
        <label for="">Apellidos</label><input type="text" [(ngModel)]="nuevo.apellidos" formControlName="apellidos"/>
         <span *ngIf="apellidos.invalid && apellidos.dirty">
            <span *ngIf="apellidos.errors.required">El Apellidos es obligatorio</span>
            <span *ngIf="apellidos.errors.minlength">El Apellido minimo 2 carcacteres</span>
        </span>
        <label for="">Saldo</label><input type="number" [(ngModel)]="nuevo.saldo" formControlName="saldo"/>
        <br/><span>{{nuevo|json}}</span>
        <br/><span>{{frm.value|json}}</span>
        <br/><span>{{apellidos.errors|json}}</span>
        <p class="botones"><button (click)="insertar($event)" [disabled]="!frm.valid">Insertar</button></p>
    </div>
</form>
<table class="datos">
    <thead>
        <tr>
            <th>DNI</th> <th>Nombre</th> <th>Apellidos</th> <th>Saldo</th> <th>&nbsp;</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let persona of personas">
            <td>{{persona.dni}}</td>
            <td>{{persona.nombre}}</td>
            <td>{{persona.apellidos}}</td>
            <td>{{persona.saldo|currency:'EUR':true:'1.2-2'}}</td>
            <td><button (click)="borrar(persona)">&times;</button></td>
        </tr>
    </tbody>
</table>
<p class="ok" *ngIf="mensaje"> {{ mensaje }} </p>
